<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roles</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="css/stiles.css">
  <link rel="stylesheet" href="node_modules/sweetalert2/dist/sweetalert2.css">
  <link rel="stylesheet" href="node_modules/sweetalert2/dist/sweetalert2.min.css">
</head>
<body>
<div id="app">
   <span v-html="titulo"></span>
    <div class="container">
        <div class="row justify-content-center mt-4">
            <div class="col-xl-10  col-12">
                <div class="card shadow">
                    <div class="card-header">
                      <span class="float-start">
                        <h3>Listado de roles</h3>
                      </span>
                      <span class="float-end">
                     <button  class="btn-new" id="btn-modal" v-on:click="openModalCreateRol"> Nuevo 
                         <i class="fas fa-circle-plus"></i>
                     </button>
                      </span>
                    </div>
                    <div class="card-body">
                    <table class="table table-striped table-inverse table-responsive">
                        <thead class="thead-inverse">
                            <tr>
                                <th>ITEM</th>
                                <th style="width: 600px;">NOMBRE ROL</th>
                                <th>EDITAR | ELIMINAR</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="(rol,item) in roles" :key="rol.id_rol">
                             <td>{{item+1}}</td>
                             <td>{{rol.nombre_rol}}</td>
                             <td>
                             <button class="editar m-2" @click="openDialogEditarRol(rol.id_rol,rol.nombre_rol)"> <i class="fas fa-edit"></i></button>    
                             <button class="close m-2" @click="deleteRol(rol.nombre_rol,rol.id_rol)"> <i class="fas fa-trash-alt"> </i></button>    
                             </td>
                            </tr>
                        </tbody>
 
                    </table>
                      
                    </div>
                </div>
            </div>
        </div>
    </div>


<!---- MODAL PARA CREAR NUEVOS ROLES-->
<div class="modal fade" id="modalrol">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
              <span class="float-start">
                <h4>{{title}}</h4>
              </span>
              <span class="float-end">
               <button class="close" v-on:click="salir">Salir <i class="fas fa-close"></i></button>   
              </span>
            </div>
            <div class="modal-body">
                <div class="col">
                    <div class="form-group">
                        <label for="">Nombre rol</label>
                        <input type="text" v-model="rolname" class="form-control" ref="rolname"
                            placeholder="Ingrese nombre del rol...">
                    </div>
                </div>
            </div>
            <div class="modal-footer justify-content-center">
                <button class="btn-save" @click="saveRol" v-if="titleButton=='Guardar'">Guardar<i class="fas fa-save"></i> </button> 
                
                <button class="btn-save" v-else  v-on:click="updateRol">Guardar cambios <i class="fas fa-save"></i></button>
            </div>
        </div>
    </div>
</div>
<br>
</div>


<script src="https://cdn.jsdelivr.net/npm/vue@2.7.4/dist/vue.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.0.0-alpha.1/axios.min.js" integrity="sha512-xIPqqrfvUAc/Cspuj7Bq0UtHNo/5qkdyngx6Vwt+tmbvTLDszzXM0G6c91LXmGrRx8KEPulT+AfOOez+TeVylg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" ></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="js/alertas.js"></script>
<script src="js/consumeapi.js"></script>
<script src="node_modules/sweetalert2/dist/sweetalert2.all.js"></script>
<script src="node_modules/sweetalert2/dist/sweetalert2.all.min.js"></script>
<script src="node_modules/sweetalert2/dist/sweetalert2.js"></script>
<script src="node_modules/sweetalert2/dist/sweetalert2.min.js"></script>
 
</body>
</html>